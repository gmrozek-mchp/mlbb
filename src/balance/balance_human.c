// ******************************************************************
// Section: Included Files
// ******************************************************************

#include "balance_human.h"

#include "nunchuk/nunchuk.h"
#include "platform/platform.h"


// ******************************************************************
// Section: Macro Declarations
// ******************************************************************


// ******************************************************************
// Section: Data Type Definitions
// ******************************************************************


// ******************************************************************
// Section: Private Variables
// ******************************************************************


// ******************************************************************
// Section: Private Function Declarations
// ******************************************************************


// ******************************************************************
// Section: Command Portal Function Declarations
// ******************************************************************


// ******************************************************************
// Section: Public Functions
// ******************************************************************

void BALANCE_HUMAN_Initialize( void )
{
}

void BALANCE_HUMAN_Reset( void )
{
    NUNCHUK_Zero_Set();
}

void BALANCE_HUMAN_Run( void )
{
    nunchuk_data_t nunchukData;
    q15_t x;
    q15_t y;
    
    nunchukData = NUNCHUK_Data_Get();
    
    if( nunchukData.button_z )
    {
        PLATFORM_Enable();

        x = (q15_t)nunchukData.joystick_x * 25;
        y = (q15_t)nunchukData.joystick_y * 25;

        PLATFORM_Position_XY_Set( x, y );
    }
    else
    {
        PLATFORM_Disable();
    }            
}


// ******************************************************************
// Section: Private Functions
// ******************************************************************


// ******************************************************************
// Section: Command Portal Functions
// ******************************************************************
